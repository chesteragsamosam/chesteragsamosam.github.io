import{k as m,c as p,ax as a,V as l,W as d,I as h,aD as B,a0 as C,D as f,x as O}from"./index.a1e78462.js";class i{constructor(e="         ",t="X"){this.board=e,this.player=t}generateChildren(){const e=[],t=this.board.split("");if(this.isTerminate())return e;for(let r=0;r<9;r++)if(t[r]===" "){const n=t.slice();n[r]=this.player,e.push(new i(n.join(""),this.player==="X"?"O":"X"))}return e}getOutcome(){const e=this.board.split("");for(let t=0;t<9;t+=3)if(e[t]!=" "&&e[t]===e[t+1]&&e[t]===e[t+2])return e[t];for(let t=0;t<3;t++)if(e[t]!=" "&&e[t]===e[t+3]&&e[t]===e[t+6])return e[t];return e[0]!=" "&&e[0]===e[4]&&e[0]===e[8]?e[0]:e[2]!=" "&&e[2]===e[4]&&e[2]===e[6]?e[2]:e.indexOf(" ")===-1?"draw":"unfinished"}isTerminate(){return["draw","X","O"].includes(this.getOutcome())}getScore(e){if(this.isTerminate())return this.getOutcome()===e?1:0;const t=this.generateChildren();let r=0;for(let n of t)n.getOutcome()!==e&&(r+=n.getScore(e));return r}getScore(e){if(this.isTerminate())return this.getOutcome()===e?1:0;const t=this.generateChildren();let r=0;for(let n of t)n.getOutcome()!==e&&(r+=n.getScore(e));return r}getBestChild(e){const t=this.generateChildren();let r=-1/0,n=-1/0,s=null;for(let o of t)r=o.getScore(),r>n&&(n=r,s=o);return s}}const _={class:"grid w-32 h-32 grid-cols-3"},b=["onClick"],k={setup(v){new i;const e=m([" "," "," "," "," "," "," "," "," "]),t=o=>{const c=e.value[o];e.value[o]=c===" "?"X":c==="X"?"O":" "},r=o=>o.join(""),n=p(()=>e.value.map(o=>o===" "?"_":o).join("")),s=()=>{const o=new i(r(e.value));console.log(o.getBestChild())};return(o,c)=>(a(),l(h,null,[d("div",_,[(a(!0),l(h,null,B(e.value,(g,u)=>(a(),l("div",{key:"c-"+u,class:"border",onClick:S=>t(u)},f(g),9,b))),128))]),C(" TicTacToe "+f(O(n))+" ",1),d("button",{class:"border",onClick:s},"Compute")],64))}};export{k as default};
